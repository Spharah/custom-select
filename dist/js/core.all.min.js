!function(){"use strict";angular.module("app.core",[])}(),function(){"use strict";function e(e,l,t){function n(l,t,n,i){l.multiselectModel=[],void 0===l.multiselect&&(l.multiselect=!1),null!==l.placeholder&&void 0!==l.placeholder||(l.placeholder=e.placeholder()),null!==l.searchLabel&&void 0!==l.searchLabel||(l.searchLabel=e.searchLabel()),null!==l.templateUrl&&void 0!==l.templateUrl||(l.templateUrl=e.templateUrl()),i.$formatters.push(function(e){if(void 0!==e&&null!==e)return l.placeholder=e[l.displayName],i.$setViewValue(e),i.$setPristine(),e}),l.setSelectedOption=function(e){if(l.multiselect){var t={};t[l.displayValue]=e.option[l.displayValue];var n=_.findIndex(l.multiselectModel,t);-1!=n?l.multiselectModel.splice(n,1):l.multiselectModel.push(e.option),l.placeholder="";for(var r=0;r<l.multiselectModel.length;r++)l.placeholder+=l.multiselectModel[r][l.displayName]+"; ";i.$setViewValue(l.multiselectModel)}else l.placeholder=e.option[l.displayName],i.$setViewValue(e.option);i.$setDirty(),i.$setTouched()},l.clearAll=function(){l.multiselectModel=[],l.placeholder=e.placeholder(),i.$setViewValue(void 0),i.$setPristine(),i.$setUntouched()},l.selectAll=function(){l.multiselectModel=angular.copy(l.options),l.placeholder="";for(var e=0;e<l.multiselectModel.length;e++)l.placeholder+=l.multiselectModel[e][l.displayName]+"; ";i.$setViewValue(l.multiselectModel),i.$setDirty(),i.$setTouched()},l.isSelected=function(e){if(l.multiselect){return 0!==$.grep(l.multiselectModel,function(t){return t[l.displayValue]==e.option[l.displayValue]}).length}return e.option[l.displayName]===l.placeholder}}return{template:'<div ng-include="templateUrl"></div>',require:"ngModel",restrict:"AE",scope:{searchLabel:"@",placeholder:"@",options:"=",displayName:"@",displayValue:"@",disabled:"=",templateUrl:"@",multiselect:"="},link:n}}angular.module("app.core").directive("customSelect",e),e.$inject=["customSelectConfig","$log","$parse"]}(),function(){"use strict";function e(){return function(e,l,t){if(!(void 0===e||e.length<=0)){if(void 0===l||void 0===t)return e;var n=[];t=angular.lowercase(t);for(var i=0;i<e.length;i++)-1!==e[i][l].toLowerCase().indexOf(t)&&n.push(e[i]);return n}}}angular.module("app.core").filter("selectFilter",e)}(),function(){function e(){this.placeholder="Please select",this.searchLabel="Search here",this.templateUrl="core.tpl.custom-select.html",this.$get=function(){var e=this.placeholder,l=this.searchLabel,t=this.templateUrl;return{placeholder:function(l){return e},searchLabel:function(e){return l},templateUrl:function(e){return t}}},this.setPlaceholder=function(e){this.placeholder=e},this.setSearchLabel=function(e){this.searchLabel=e},this.setTemplateUrl=function(e){this.templateUrl=e}}angular.module("app.core").provider("customSelectConfig",e)}(),function(){"use strict";function e(e,l,t){function n(e,l,n,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,c=n.selectOptions,a=c.match(r);if(!a)throw"invalid expression : "+c+" in ";var o=e.$eval(a[8]);angular.forEach(o,function(e){console.log(e)});var s=a[5]||a[7],u=(a[6],/ as /.test(a[0])&&a[1]),d=a[9];t(a[2]?a[1]:s),u&&t(u),d&&t(d),t(a[2]||a[1]),t(a[3]||""),t(a[4]||""),t(a[8])}return{restrict:"A",terminal:!0,link:n}}angular.module("app.core").directive("selectOptions",e),e.$inject=["$log","$compile","$parse"]}(),function(){"use strict";function e(){function e(e,l,t,n){angular.element(document).ready(function(){var t=angular.element(document.querySelector("#"+e.containerId)),n=angular.element(document.querySelector("#"+e.elementId)),i=l.find(".fixed-scroll-container"),r=l.find(".fixed-scroll");i.css("width",t.width()+"px"),r.css("width",n.width()+"px"),i.on("scroll",function(){t.scrollLeft($(this).scrollLeft())}),e.$watch(function(){return n.width()},function(e,l){e!=l&&r.css("width",e+"px")}),e.$watch(function(){return t.width()},function(e,l){e!=l&&i.css("width",e+"px")})})}return{restrict:"E",templateUrl:"core.tpl.fixed-scroll.html",scope:{position:"=",containerId:"@",elementId:"@"},link:e}}angular.module("app.core").directive("fixedScroll",e),e.$inject=[]}(),function(){"use strict";function e(e){function l(l,t,n,i){function r(e){o=i.$modelValue,s=l.price.ClientPricingID}function c(e,l){void 0!==o&&void 0!==u&&void 0!==s&&u===l.priceChanged&&s===l.clientPricingID&&(i.$setViewValue(o,!1),i.$rollbackViewValue(),o=void 0)}function a(e,l){void 0!==o&&void 0!==u&&void 0!==s&&u===l.priceChanged&&s===l.clientPricingID&&(o=void 0)}var o,s,u=n.rollbackFocusedField,d=void 0===n.rollbackEvent?e.getRollbackEvent():n.rollbackEvent,p=void 0===n.resetRollbackEvent?e.getResetRollbackEvent():n.resetRollbackEvent;t.bind("focus",r),l.$on(d,c),l.$on(p,a)}return{restrict:"A",replace:!1,require:"ngModel",link:l}}angular.module("app.core").directive("inputRollback",e),e.$inject=["inputRollbackConfig"]}(),function(){function e(){this.rollbackEvent="rollbackValue",this.resetRollbackEvent="resetLastCommittedValue",this.$get=function(){var e=this.rollbackEvent,l=this.resetRollbackEvent;return{getRollbackEvent:function(l){return e},getResetRollbackEvent:function(e){return l}}},this.setRollbackEvent=function(e){this.rollbackEvent=e},this.setResetRollbackEvent=function(e){this.resetRollbackEvent=e}}angular.module("app.core").provider("inputRollbackConfig",e)}(),function(){function e(){function e(e,l,t){!function(e){l[0].style.color=e}(e.colours[e.itemIndex%e.colours.length])}return{restrict:"A",link:e,scope:{colours:"=",itemIndex:"="}}}angular.module("app.core").directive("listItemColour",e),e.$inject=[]}(),function(){"use strict";function e(e){function l(l,t,n,i){function r(t){angular.isUndefined(l.minNumber)&&angular.isUndefined(l.maxNumber)&&e(function(){i.$setValidity("exceedMaxNumber",!0),i.$setValidity("belowMinNumber",!0)},1),angular.isUndefined(l.minNumber)||(t<l.minNumber?c("belowMinNumber",!1):c("belowMinNumber",!0)),angular.isUndefined(l.maxNumber)||(t>l.maxNumber?c("exceedMaxNumber",!1):c("exceedMaxNumber",!0))}function c(l,t){e(function(){i.$setValidity(l,t)},1)}if(!i)throw"ng-model is requred.";i.$parsers.push(function(e){angular.isUndefined(e)&&(e=""),"number"==typeof e&&(e=""+e);var t;switch(l.allowNegative){case!1:t=0===l.decimalPlace?e.replace(/[^0-9]/g,""):e.replace(/[^0-9\.]/g,"");break;default:t=0===l.decimalPlace?e.replace(/[^-0-9]/g,""):e.replace(/[^-0-9\.]/g,"")}var n=t.split("-"),r=t.split(".");return angular.isUndefined(n[1])||(n[1]=n[1].slice(0,n[1].length),t=n[0]+"-"+n[1],n[0].length>0&&(t=n[0])),angular.isUndefined(r[1])||(r[1]=r[1].slice(0,angular.isUndefined(l.decimalPlace)?2:l.decimalPlace),t=r[0]+"."+r[1]),e!==t&&(i.$setViewValue(t),i.$render()),t}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}),t.bind("blur",function(){var e;i.$viewValue&&(e=i.$viewValue.replace(/[^0-9\.]/g,"")),r(e)})}return{restrict:"A",replace:!1,require:"?ngModel",scope:{decimalPlace:"=",allowNegative:"=",minNumber:"=",maxNumber:"="},link:l}}angular.module("app.core").directive("numbersOnly",e),e.$inject=["$timeout"]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("core.tpl.custom-select.html",'<div class="btn-group">\r\n    <button \r\n            class="btn btn-default dropdown-toggle"\r\n            type="button"\r\n            data-toggle="dropdown"\r\n            aria-haspopup="true"\r\n            aria-expanded="false"\r\n            ng-disabled="disabled"\r\n            >{{placeholder}}\r\n        <span class="fa fa-angle-down pull-right"></span>\r\n    </button>\r\n<div class="dropdown-menu" ng-click="multiselect ? $event.stopPropagation() : null">\r\n    <input type="search" class="form-control" ng-model="searchFilter" placeholder="{{searchLabel}}">\r\n    <ul>  \r\n        <li ng-repeat="option in options | orderBy : displayName : false | selectFilter : displayName : searchFilter"\r\n            ng-click="setSelectedOption(this)"\r\n            ng-class="isSelected(this) ? \'selected\' : null"> {{option[displayName]}}\r\n        </li>         \r\n    </ul>\r\n    <hr ng-if="multiselect"/>\r\n\x3c!--    <span ng-show="options.length == 0">No records found...</span>--\x3e\r\n        <div class="col-md-1" ng-show="multiselect">\r\n            <span class="clickable" ng-click="selectAll()"><i class="fa fa-check-circle" aria-hidden="true"></i> Select all</span> &nbsp;&nbsp;\r\n            <span class="clickable" ng-click="clearAll()"><i class="fa fa-times-circle" aria-hidden="true"></i> Clear all</span>\r\n        </div>\r\n        \r\n    </div>    \r\n</div>\r\n'),e.put("core.tpl.fixed-scroll.html",'<div class="fixed-scroll-container" style="overflow:auto; position:fixed;bottom:0">\r\n    <div class="fixed-scroll">&nbsp;</div>\r\n</div>')}]);