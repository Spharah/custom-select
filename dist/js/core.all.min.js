!function(){"use strict";angular.module("app.core",[])}(),function(){"use strict";function e(e,l,t){function n(l,t,n,i){l.multiselectModel=[],void 0===l.multiselect&&(l.multiselect=!1),null!==l.placeholder&&void 0!==l.placeholder||(l.placeholder=e.placeholder()),null!==l.searchLabel&&void 0!==l.searchLabel||(l.searchLabel=e.searchLabel()),null!==l.templateUrl&&void 0!==l.templateUrl||(l.templateUrl=e.templateUrl()),i.$formatters.push(function(e){if(void 0!==e)return l.placeholder=e[l.displayName],i.$setViewValue(e),i.$setPristine(),e}),l.setSelectedOption=function(e){if(l.multiselect){var t={};t[l.displayValue]=e.option[l.displayValue];var n=_.findIndex(l.multiselectModel,t);n!=-1?l.multiselectModel.splice(n,1):l.multiselectModel.push(e.option),l.placeholder="";for(var r=0;r<l.multiselectModel.length;r++)l.placeholder+=l.multiselectModel[r][l.displayName]+"; ";i.$setViewValue(l.multiselectModel)}else l.placeholder=e.option[l.displayName],i.$setViewValue(e.option);i.$setDirty(),i.$setTouched()},l.clearAll=function(){l.multiselectModel=[],l.placeholder=e.placeholder(),i.$setViewValue(void 0),i.$setPristine(),i.$setUntouched()},l.selectAll=function(){l.multiselectModel=angular.copy(l.options),l.placeholder="";for(var e=0;e<l.multiselectModel.length;e++)l.placeholder+=l.multiselectModel[e][l.displayName]+"; ";i.$setViewValue(l.multiselectModel),i.$setDirty(),i.$setTouched()},l.isSelected=function(e){if(l.multiselect){var t=$.grep(l.multiselectModel,function(t){return t[l.displayValue]==e.option[l.displayValue]});return 0!==t.length}return e.option[l.displayName]===l.placeholder}}var i={template:'<div ng-include="templateUrl"></div>',require:"ngModel",restrict:"AE",scope:{searchLabel:"@",placeholder:"@",options:"=",displayName:"@",displayValue:"@",disabled:"=",templateUrl:"@",multiselect:"="},link:n};return i}angular.module("app.core").directive("customSelect",e),e.$inject=["customSelectConfig","$log","$parse"]}(),function(){"use strict";function e(){return function(e,l,t){if(!(void 0===e||e.length<=0)){if(void 0===l||void 0===t)return e;var n=[];t=angular.lowercase(t);for(var i=0;i<e.length;i++)e[i][l].toLowerCase().indexOf(t)!==-1&&n.push(e[i]);return n}}}angular.module("app.core").filter("selectFilter",e)}(),function(){function e(){this.placeholder="Please select",this.searchLabel="Search here",this.templateUrl="core.tpl.custom-select.html",this.$get=function(){var e=this.placeholder,l=this.searchLabel,t=this.templateUrl;return{placeholder:function(l){return e},searchLabel:function(e){return l},templateUrl:function(e){return t}}},this.setPlaceholder=function(e){this.placeholder=e},this.setSearchLabel=function(e){this.searchLabel=e},this.setTemplateUrl=function(e){this.templateUrl=e}}angular.module("app.core").provider("customSelectConfig",e)}(),function(){"use strict";function e(e,l,t){function n(e,l,n,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,c=n.selectOptions,o=c.match(r);if(!o)throw"invalid expression : "+c+" in ";var a=e.$eval(o[8]);angular.forEach(a,function(e){console.log(e)});var s=o[5]||o[7],u=(o[6],/ as /.test(o[0])&&o[1]),d=o[9];t(o[2]?o[1]:s),u&&t(u),d&&t(d),t(o[2]||o[1]),t(o[3]||""),t(o[4]||""),t(o[8])}var i={restrict:"A",terminal:!0,link:n};return i}angular.module("app.core").directive("selectOptions",e),e.$inject=["$log","$compile","$parse"]}(),function(){"use strict";function e(){function e(e,l,t,n){angular.element(document).ready(function(){var t=angular.element(document.querySelector("#"+e.containerId)),n=angular.element(document.querySelector("#"+e.elementId)),i=l.find(".fixed-scroll-container"),r=l.find(".fixed-scroll");i.css("width",t.width()+"px"),r.css("width",n.width()+"px"),i.on("scroll",function(){t.scrollLeft($(this).scrollLeft())}),e.$watch(function(){return n.width()},function(e,l){e!=l&&r.css("width",e+"px")}),e.$watch(function(){return t.width()},function(e,l){e!=l&&i.css("width",e+"px")})})}var l={restrict:"E",templateUrl:"core.tpl.fixed-scroll.html",scope:{position:"=",containerId:"@",elementId:"@"},link:e};return l}angular.module("app.core").directive("fixedScroll",e),e.$inject=[]}(),function(){"use strict";function e(e){function l(l,t,n,i){function r(e){a=i.$modelValue,s=l.price.ClientPricingID}function c(e,l){void 0!==a&&void 0!==u&&void 0!==s&&u===l.priceChanged&&s===l.clientPricingID&&(i.$setViewValue(a,!1),i.$rollbackViewValue(),a=void 0)}function o(e,l){void 0!==a&&void 0!==u&&void 0!==s&&u===l.priceChanged&&s===l.clientPricingID&&(a=void 0)}var a,s,u=n.rollbackFocusedField,d=void 0===n.rollbackEvent?e.getRollbackEvent():n.rollbackEvent,p=void 0===n.resetRollbackEvent?e.getResetRollbackEvent():n.resetRollbackEvent;t.bind("focus",r),l.$on(d,c),l.$on(p,o)}var t={restrict:"A",replace:!1,require:"ngModel",link:l};return t}angular.module("app.core").directive("inputRollback",e),e.$inject=["inputRollbackConfig"]}(),function(){function e(){this.rollbackEvent="rollbackValue",this.resetRollbackEvent="resetLastCommittedValue",this.$get=function(){var e=this.rollbackEvent,l=this.resetRollbackEvent;return{getRollbackEvent:function(l){return e},getResetRollbackEvent:function(e){return l}}},this.setRollbackEvent=function(e){this.rollbackEvent=e},this.setResetRollbackEvent=function(e){this.resetRollbackEvent=e}}angular.module("app.core").provider("inputRollbackConfig",e)}(),function(){"use strict";function e(){function e(e,l,t,n){if(!n)throw"ng-model is requred.";n.$parsers.push(function(l){angular.isUndefined(l)&&(l=""),"number"==typeof l&&(l=""+l);var t=l.replace(/[^-0-9\.]/g,""),i=t.split("-"),r=t.split(".");return angular.isUndefined(i[1])||(i[1]=i[1].slice(0,i[1].length),t=i[0]+"-"+i[1],i[0].length>0&&(t=i[0])),angular.isUndefined(r[1])||(r[1]=r[1].slice(0,angular.isUndefined(e.decimalPlace)?2:e.decimalPlace),t=r[0]+"."+r[1]),l!==t&&(n.$setViewValue(t),n.$render()),t}),l.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}),l.bind("focus",function(e){l.select()})}var l={restrict:"A",replace:!1,require:"?ngModel",scope:{decimalPlace:"="},link:e};return l}angular.module("app.core").directive("numbersOnly",e),e.$inject=[]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("core.tpl.custom-select.html",'<div class="btn-group">\r\n    <button \r\n            class="btn btn-default dropdown-toggle"\r\n            type="button"\r\n            data-toggle="dropdown"\r\n            aria-haspopup="true"\r\n            aria-expanded="false"\r\n            ng-disabled="disabled"\r\n            >{{placeholder}}\r\n        <span class="fa fa-angle-down pull-right"></span>\r\n    </button>\r\n<div class="dropdown-menu" ng-click="multiselect ? $event.stopPropagation() : null">\r\n    <input type="search" class="form-control" ng-model="searchFilter" placeholder="{{searchLabel}}">\r\n    <ul>  \r\n        <li ng-repeat="option in options | orderBy : displayName : false | selectFilter : displayName : searchFilter"\r\n            ng-click="setSelectedOption(this)"\r\n            ng-class="isSelected(this) ? \'selected\' : null"> {{option[displayName]}}\r\n        </li>         \r\n    </ul>\r\n    <hr ng-if="multiselect"/>\r\n<!--    <span ng-show="options.length == 0">No records found...</span>-->\r\n        <div class="col-md-1" ng-show="multiselect">\r\n            <span class="clickable" ng-click="selectAll()"><i class="fa fa-check-circle" aria-hidden="true"></i> Select all</span> &nbsp;&nbsp;\r\n            <span class="clickable" ng-click="clearAll()"><i class="fa fa-times-circle" aria-hidden="true"></i> Clear all</span>\r\n        </div>\r\n        \r\n    </div>    \r\n</div>\r\n'),e.put("core.tpl.fixed-scroll.html",'<div class="fixed-scroll-container" style="overflow:auto; position:fixed;bottom:0">\r\n    <div class="fixed-scroll">&nbsp;</div>\r\n</div>')}]);